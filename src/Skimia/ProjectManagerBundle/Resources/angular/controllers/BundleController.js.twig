{{module_var}}.controller('{{base_name}}.ListController',['$scope','Bundles',function($scope, Bundles){
	$scope.bundles = Bundles.query(function(){$scope.bundleLoaded = true});
}]);

{{module_var}}.controller('{{base_name}}.ShowController',['$scope','$stateParams','Bundles',function($scope, $stateParams, Bundles){
	$scope.bundle = Bundles.get({bundleId:$stateParams.bundleId},function(){$scope.bundleLoaded = true});
}]);

{{module_var}}.controller('{{base_name}}.EditController',['$scope','$stateParams', '$state','Bundles','Projects','mc-service',function($scope, $stateParams, $state, Bundles,Projects,flash){
        $scope.data = Bundles.get({bundleId:$stateParams.bundleId},function(){$scope.bundleEditLoaded = true});
        	
        

        $scope.submit = function(){
            $scope.data.$save(function()
                {
                    $state.go('^',$stateParams,{'reload':true});
                    flash.add('success','Votre bundle "'+$scope.data.name+'" est bien modifié !');
                });
        }
}]);

{{module_var}}.controller('{{base_name}}.CreateController',['$scope','$stateParams','$state','Projects','Bundles','mc-service',function($scope, $stateParams, $state, Projects, Bundles,flash){
	Projects.query({},function(data){
            $scope.projects = data;
        });
        $scope.data = {};
                    
        $scope.submit = function(){
           var saved = Bundles.save($scope.data,function()
                {
                    $state.go('^.show',{bundleId:saved.id});
                    flash.add('success','Votre bundle "'+$scope.data.name+'" est bien posté !');
                }
            );
        }
}]);

{{module_var}}.controller('{{base_name}}.DeleteController',['$scope','$stateParams','$state','Bundles','mc-service',function($scope, $stateParams, $state, Bundles,flash){
    Bundles.delete({bundleId:$stateParams.bundleId},function()
                {
                    $state.go('^.list');
                    flash.add('success','Bundle bien supprimé !');
                });
}]);