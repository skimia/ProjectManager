
{{module_var}}.controller('{{base_name}}.ListController',['$scope','$repo',function($scope, $repo){
	$repo.model('Project').query().then(function(data){
        $scope.projects = data;
    });
}]);

{{module_var}}.controller('{{base_name}}.ShowController',['$scope','$stateParams','$repo',function($scope, $stateParams, $repo){
    $repo.model('Project').get($stateParams.projectId, function(data){
        $scope.project = data;
    });
}]);

{{module_var}}.controller('{{base_name}}.EditController',['$scope','$stateParams', '$state','$repo','mc-service',function($scope, $stateParams, $state,$repo,flash){
        $scope.data = Projects.get({projectId:$stateParams.projectId},function(){
            Bundles.query({},function(data){
                $scope.bundles = data;
                $scope.projectEditLoaded = true
            });
        });        
        

        $scope.submit = function(){
            $scope.data.$save(function()
                {
                    $state.go('^',$stateParams,{'reload':true});
                    flash.add('success','Votre projet "'+$scope.data.name+'" est bien modifié !');
                });
        }
}]);

{{module_var}}.controller('{{base_name}}.CreateController',['$scope','$stateParams','$state','$repo','mc-service',function($scope, $stateParams, $state,$repo,flash){
	Bundles.query({},function(data){
            $scope.bundles = data;
            $scope.projectLoaded = true;
        });
        $scope.data = {};

        $scope.submit = function(){
           var saved = Projects.save($scope.data,function()
                {
                    $state.go('^.show',{projectId:saved.id});
                    flash.add('success','Votre projet "'+$scope.data.name+'" est bien posté !');
                }
            );
        }
}]);

{{module_var}}.controller('{{base_name}}.DeleteController',['$scope','$stateParams','$state','$repo','mc-service',function($scope, $stateParams, $state, $repo,flash){
    Projects.delete({projectId:$stateParams.projectId},function()
                {
                    $state.go('^.list');
                    flash.add('success','Projet bien supprimé !');
                });
}]);

{{module_var}}.controller('{{base_name}}.FilesController', function($scope, $http){
    
});

{{module_var}}.controller('{{base_name}}.IssuesController', function($scope, $http){
    
});

{{module_var}}.controller('{{base_name}}.BundlesController',['$scope', '$http', '$repo', function($scope, $http, $repo){

}]);