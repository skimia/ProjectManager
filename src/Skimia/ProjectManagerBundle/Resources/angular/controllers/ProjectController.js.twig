
{{module_var}}.controller('{{base_name}}.ListController',['$scope','Projects',function($scope, Projects){
	$scope.projects = Projects.query(function(){$scope.projectLoaded = true});
}]);

{{module_var}}.controller('{{base_name}}.ShowController',['$scope','$stateParams','Projects',function($scope, $stateParams, Projects){
	$scope.project = Projects.get({projectId:$stateParams.projectId},function(){$scope.projectLoaded = true});
}]);

{{module_var}}.controller('{{base_name}}.EditController',['$scope','$stateParams', '$state','Bundles','Projects','mc-service',function($scope, $stateParams, $state,Bundles, Projects,flash){
        $scope.data = Projects.get({projectId:$stateParams.projectId},function(){
            Bundles.query({},function(data){
                $scope.bundles = data;
                $scope.projectEditLoaded = true
            });
        });        
        

        $scope.submit = function(){
            $scope.data.$save(function()
                {
                    $state.go('^',$stateParams,{'reload':true});
                    flash.add('success','Votre projet "'+$scope.data.name+'" est bien modifié !');
                });
        }
}]);

{{module_var}}.controller('{{base_name}}.CreateController',['$scope','$stateParams','$state','Bundles','Projects','mc-service',function($scope, $stateParams, $state, Bundles, Projects,flash){
	Bundles.query({},function(data){
            $scope.bundles = data;
            $scope.projectLoaded = true;
        });
        $scope.data = {};

        $scope.submit = function(){
           var saved = Projects.save($scope.data,function()
                {
                    $state.go('^.show',{projectId:saved.id});
                    flash.add('success','Votre projet "'+$scope.data.name+'" est bien posté !');
                }
            );
        }
}]);

{{module_var}}.controller('{{base_name}}.DeleteController',['$scope','$stateParams','$state','Projects','mc-service',function($scope, $stateParams, $state, Projects,flash){
    Projects.delete({projectId:$stateParams.projectId},function()
                {
                    $state.go('^.list');
                    flash.add('success','Projet bien supprimé !');
                });
}]);

{{module_var}}.controller('{{base_name}}.FilesController', function($scope, $http){
    
});

{{module_var}}.controller('{{base_name}}.IssuesController', function($scope, $http){
    
});

{{module_var}}.controller('{{base_name}}.BundlesController',['$scope', '$http', 'Bundles', function($scope, $http, Bundles){

}]);